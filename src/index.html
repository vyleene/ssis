<!DOCTYPE html>
<html data-bs-theme="dark" class="theme-loading">
<head>
    <meta charset="UTF-8">
    <title>Simple Student Information System</title>
    <link rel="stylesheet" href="/css/bootstrap/bootstrap.css" />
    <link rel="stylesheet" href="/css/datatables/datatables.css" />
    <link rel="stylesheet" href="/css/heroicons/heroicons.css" />
    <link rel="stylesheet" href="/css/styles.css" />
</head>
<body>
    <!-- Titlebar -->
    <header class="app-titlebar" id="app-titlebar">
        <div class="app-titlebar__brand">
            <span class="app-titlebar__dot"></span>
            <span class="app-titlebar__title">Simple Student Information System</span>
        </div>
        <div class="app-titlebar__actions">
            <button class="titlebar-btn titlebar-btn--theme" id="btn-theme" type="button" aria-label="Toggle theme" aria-pressed="false">
                <span class="heroicon-url heroicon-url-solid icon-moon theme-icon theme-icon--moon" aria-hidden="true"></span>
                <span class="heroicon-url heroicon-url-solid icon-sun theme-icon theme-icon--sun" aria-hidden="true"></span>
            </button>
            <button class="titlebar-btn" id="btn-minimize" aria-label="Minimize window">—</button>
            <button class="titlebar-btn titlebar-btn--close" id="btn-close" aria-label="Close window">✕</button>
        </div>
    </header>

    <!-- Directory Navigation -->
    <nav class="app-nav" aria-label="Directory navigation">
        <div class="app-nav__container">
            <button class="app-nav__item is-active" type="button" data-panel="students">
                <span class="heroicon-url heroicon-url-outline icon-user-group" aria-hidden="true"></span>
                Student Directory
            </button>
            <button class="app-nav__item" type="button" data-panel="programs">
                <span class="heroicon-url heroicon-url-outline icon-clipboard-document" aria-hidden="true"></span>
                Program Directory
            </button>
            <button class="app-nav__item" type="button" data-panel="colleges">
                <span class="heroicon-url heroicon-url-outline icon-building-library" aria-hidden="true"></span>
                College Directory
            </button>
        </div>
    </nav>

    <!-- Toast -->
    <div class="toast-container" aria-live="polite" aria-atomic="true"></div>

	<!-- Table Directories -->
    <main class="container py-4 app-content">
        <div class="card shadow-sm app-card">
            <div class="card-body">
                <section class="directory-panel is-active" data-panel="students">
                    <header class="page-header d-flex align-items-center justify-content-between flex-wrap gap-3">
                        <div>
                            <div class="d-flex align-items-center gap-2">
                                <span class="heroicon-url heroicon-url-outline icon-academic-cap heroicon--lg text-primary" aria-hidden="true"></span>
                                <h1 class="h3 mb-0" id="test">Student Directory</h1>
                            </div>
                            <!--<p class="text-muted small mb-0 mt-1">Manage student records with a clean, searchable table.</p>-->
                        </div>
                        <div class="d-flex align-items-center gap-2">
                            <button class="btn btn-primary d-inline-flex align-items-center gap-2" id="btn-add-student" type="button">
                                <span class="heroicon-url heroicon-url-outline icon-user-plus" aria-hidden="true"></span>
                                Add student
                            </button>
                            <button class="btn btn-secondary d-inline-flex align-items-center" id="btn-refresh-student" type="button" aria-label="Refresh students">
                                <span class="heroicon-url heroicon-url-outline icon-arrow-path" aria-hidden="true"></span>
                            </button>
                        </div>
                    </header>
                    <div class="table-responsive table-shell">
                        <div class="table-overlay" aria-hidden="true">
                            <div class="spinner-border text-primary" role="status">
                                <span class="visually-hidden">Loading...</span>
                            </div>
                        </div>
                        <table id="studentsTable" class="table table-striped table-hover align-middle w-100">
                            <thead class="table-light">
                                <tr>
                                    <th>ID</th>
                                    <th>First Name</th>
                                    <th>Last Name</th>
                                    <th>Program Code</th>
                                    <th>Year</th>
                                    <th>Gender</th>
                                    <th class="text-center actions-col">Actions</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </section>
                <section class="directory-panel" data-panel="programs">
                    <header class="page-header d-flex align-items-center justify-content-between flex-wrap gap-3">
                        <div>
                            <div class="d-flex align-items-center gap-2">
                                <span class="heroicon-url heroicon-url-outline icon-clipboard-document heroicon--lg text-primary" aria-hidden="true"></span>
                                <h1 class="h3 mb-0">Program Directory</h1>
                            </div>
                        </div>
                        <div class="d-flex align-items-center gap-2">
                            <button class="btn btn-primary d-inline-flex align-items-center gap-2" id="btn-add-program" type="button">
                                <span class="heroicon-url heroicon-url-outline icon-plus" aria-hidden="true"></span>
                                Add program
                            </button>
                            <button class="btn btn-secondary d-inline-flex align-items-center" id="btn-refresh-program" type="button" aria-label="Refresh programs">
                                <span class="heroicon-url heroicon-url-outline icon-arrow-path" aria-hidden="true"></span>
                            </button>
                        </div>
                    </header>

                    <div class="table-responsive table-shell">
                        <div class="table-overlay" aria-hidden="true">
                            <div class="spinner-border text-primary" role="status">
                                <span class="visually-hidden">Loading...</span>
                            </div>
                        </div>
                        <table id="programsTable" class="table table-striped table-hover align-middle w-100">
                            <thead class="table-light">
                                <tr>
                                    <th>Program Code</th>
                                    <th>Program Name</th>
                                    <th>College Code</th>
                                    <th class="text-center actions-col">Actions</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </section>

                <section class="directory-panel" data-panel="colleges">
                    <header class="page-header d-flex align-items-center justify-content-between flex-wrap gap-3">
                        <div>
                            <div class="d-flex align-items-center gap-2">
                                <span class="heroicon-url heroicon-url-outline icon-building-library heroicon--lg text-primary" aria-hidden="true"></span>
                                <h1 class="h3 mb-0">College Directory</h1>
                            </div>
                        </div>
                        <div class="d-flex align-items-center gap-2">
                            <button class="btn btn-primary d-inline-flex align-items-center gap-2" id="btn-add-college" type="button">
                                <span class="heroicon-url heroicon-url-outline icon-plus" aria-hidden="true"></span>
                                Add college
                            </button>
                            <button class="btn btn-secondary d-inline-flex align-items-center" id="btn-refresh-college" type="button" aria-label="Refresh colleges">
                                <span class="heroicon-url heroicon-url-outline icon-arrow-path" aria-hidden="true"></span>
                            </button>
                        </div>
                    </header>

                    <div class="table-responsive table-shell">
                        <div class="table-overlay" aria-hidden="true">
                            <div class="spinner-border text-primary" role="status">
                                <span class="visually-hidden">Loading...</span>
                            </div>
                        </div>
                        <table id="collegesTable" class="table table-striped table-hover align-middle w-100">
                            <thead class="table-light">
                                <tr>
                                    <th>College Code</th>
                                    <th>College Name</th>
                                    <th class="text-center actions-col">Actions</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </section>
            </div>
        </div>
    </main>

    <!-- Student Modals -->
    <div class="modal fade" id="studentModal" tabindex="-1" aria-labelledby="studentModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title d-flex align-items-center gap-2" id="studentModalLabel">
                        <span class="heroicon-url heroicon-url-outline icon-user-plus" aria-hidden="true"></span>
                        Add Student
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <form id="student-form" data-mode="add">
                    <div class="modal-body">
                        <div class="mb-3">
                            <label class="form-label" for="student-id-number">Student ID</label>
                            <div class="row g-2 align-items-center">
                                <div class="col-4 col-md-4">
                                    <div class="input-group">
                                        <span class="input-group-text">
                                            <span class="heroicon-url heroicon-url-outline icon-identification" aria-hidden="true"></span>
                                        </span>
                                        <select class="form-select" id="student-id-year" name="studentIdYear" required></select>
                                    </div>
                                </div>
                                <div class="col-1 text-center">-</div>
                                <div class="col-7 col-md-7">
                                    <input class="form-control" id="student-id-number" name="studentIdNumber" type="text" inputmode="numeric" maxlength="4" pattern="\d{4}" placeholder="NNNN" required />
                                </div>
                            </div>
                        </div>
                        <div class="row g-3">
                            <div class="col-12 col-md-6">
                                <label class="form-label" for="student-first-name">First Name</label>
                                <div class="input-group">
                                    <span class="input-group-text">
                                        <span class="heroicon-url heroicon-url-outline icon-user" aria-hidden="true"></span>
                                    </span>
                                    <input class="form-control" id="student-first-name" name="firstName" type="text" maxlength="16" pattern="[A-Za-z ]+" placeholder="First name" required />
                                </div>
                            </div>
                            <div class="col-12 col-md-6">
                                <label class="form-label" for="student-last-name">Last Name</label>
                                <div class="input-group">
                                    <span class="input-group-text">
                                        <span class="heroicon-url heroicon-url-outline icon-user" aria-hidden="true"></span>
                                    </span>
                                    <input class="form-control" id="student-last-name" name="lastName" type="text" maxlength="16" pattern="[A-Za-z ]+" placeholder="Last name" required />
                                </div>
                            </div>
                        </div>
                        <div class="mt-3">
                            <label class="form-label" for="student-program">Program Code</label>
                            <div class="input-group">
                                <span class="input-group-text">
                                    <span class="heroicon-url heroicon-url-outline icon-academic-cap" aria-hidden="true"></span>
                                </span>
                                <select class="form-select" id="student-program" name="programCode" required>
                                    <option value="" selected disabled>Select program code</option>
                                </select>
                            </div>
                        </div>
                        <div class="row g-3 mt-1">
                            <div class="col-6 col-md-6">
                                <label class="form-label" for="student-year">Year</label>
                                <div class="input-group">
                                    <span class="input-group-text">
                                        <span class="heroicon-url heroicon-url-outline icon-calendar-days" aria-hidden="true"></span>
                                    </span>
                                    <select class="form-select" id="student-year" name="year" required>
                                        <option value="" selected disabled>Select year</option>
                                        <option value="I">I</option>
                                        <option value="II">II</option>
                                        <option value="III">III</option>
                                        <option value="IV">IV</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-6 col-md-6">
                                <label class="form-label" for="student-gender">Gender</label>
                                <div class="input-group">
                                    <span class="input-group-text">
                                        <span class="heroicon-url heroicon-url-outline icon-users" aria-hidden="true"></span>
                                    </span>
                                    <select class="form-select" id="student-gender" name="gender" required>
                                        <option value="" selected disabled>Select gender</option>
                                        <option value="M">M</option>
                                        <option value="F">F</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-success" id="student-submit">Add Student</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="modal fade" id="deleteStudentModal" tabindex="-1" aria-labelledby="deleteStudentModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="deleteStudentModalLabel">Delete Student</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p class="mb-0">Are you sure you want to delete this student?</p>
                    <input type="hidden" id="delete-student-id" name="studentId" />
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-danger" id="confirm-delete-student">Delete</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Program Modals -->
    <div class="modal fade" id="programModal" tabindex="-1" aria-labelledby="programModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title d-flex align-items-center gap-2" id="programModalLabel">
                        <span class="heroicon-url heroicon-url-outline icon-clipboard-document" aria-hidden="true"></span>
                        Add Program
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <form id="program-form" data-mode="add">
                    <div class="modal-body">
                        <div class="mb-3">
                            <label class="form-label" for="program-code">Program Code</label>
                            <div class="input-group">
                                <span class="input-group-text">
                                    <span class="heroicon-url heroicon-url-outline icon-tag" aria-hidden="true"></span>
                                </span>
                                <input class="form-control" id="program-code" name="programCode" type="text" required />
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label" for="program-name">Program Name</label>
                            <div class="input-group">
                                <span class="input-group-text">
                                    <span class="heroicon-url heroicon-url-outline icon-document-text" aria-hidden="true"></span>
                                </span>
                                <input class="form-control" id="program-name" name="programName" type="text" required />
                            </div>
                        </div>
                        <div>
                            <label class="form-label" for="program-college">College Code</label>
                            <div class="input-group">
                                <span class="input-group-text">
                                    <span class="heroicon-url heroicon-url-outline icon-building-library" aria-hidden="true"></span>
                                </span>
                                <select class="form-select" id="program-college" name="collegeCode" required>
                                    <option value="" selected disabled>Select college code</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-success" id="program-submit">Add Program</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="modal fade" id="deleteProgramModal" tabindex="-1" aria-labelledby="deleteProgramModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="deleteProgramModalLabel">Delete Program</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p class="mb-0">Are you sure you want to delete this program?</p>
                    <p class="text-muted small mb-0" id="delete-program-warning"></p>
                    <input type="hidden" id="delete-program-id" name="programId" />
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-danger" id="confirm-delete-program">Delete</button>
                </div>
            </div>
        </div>
    </div>

    <!-- College Modals -->
    <div class="modal fade" id="collegeModal" tabindex="-1" aria-labelledby="collegeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title d-flex align-items-center gap-2" id="collegeModalLabel">
                        <span class="heroicon-url heroicon-url-outline icon-building-library" aria-hidden="true"></span>
                        Add College
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <form id="college-form" data-mode="add">
                    <div class="modal-body">
                        <div class="mb-3">
                            <label class="form-label" for="college-code">College Code</label>
                            <div class="input-group">
                                <span class="input-group-text">
                                    <span class="heroicon-url heroicon-url-outline icon-tag" aria-hidden="true"></span>
                                </span>
                                <input class="form-control" id="college-code" name="collegeCode" type="text" required />
                            </div>
                        </div>
                        <div>
                            <label class="form-label" for="college-name">College Name</label>
                            <div class="input-group">
                                <span class="input-group-text">
                                    <span class="heroicon-url heroicon-url-outline icon-document-text" aria-hidden="true"></span>
                                </span>
                                <input class="form-control" id="college-name" name="collegeName" type="text" required />
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-success" id="college-submit">Add College</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="modal fade" id="deleteCollegeModal" tabindex="-1" aria-labelledby="deleteCollegeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="deleteCollegeModalLabel">Delete College</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p class="mb-0">Are you sure you want to delete this college?</p>
                    <p class="text-muted small mb-0" id="delete-college-warning"></p>
                    <input type="hidden" id="delete-college-id" name="collegeId" />
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-danger" id="confirm-delete-college">Delete</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Neutralino -->
    <script src="/js/neutralino/neutralino.js"></script>

    <!-- Plugins -->
    <script src="/js/jquery/jquery.js"></script>
    <script src="/js/bootstrap/bootstrap.js"></script>
    <script src="/js/moment/moment.js"></script>
    <script src="/js/datatables/datatables.js"></script>

    <script src="/js/core/students.js"></script>
    <script src="/js/core/programs.js"></script>
    <script src="/js/core/colleges.js"></script>
    <script src="/js/core/csv.js"></script>
    <script src="/js/main.js"></script>
</body>
</html>
